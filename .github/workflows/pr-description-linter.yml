name: 'pr-description-lint'
on: # rebuild any PRs and main branch changes
  pull_request:
    # By default, a workflow only runs when a pull_request's activity type is opened, synchronize, or reopened. We
    # explicity override here so that PR titles are re-linted when the PR text content is edited.
    #
    # Possible values: https://help.github.com/en/actions/reference/events-that-trigger-workflows#pull-request-event-pull_request
    types: [opened, edited, reopened]
jobs:
  build: # make sure build/ci work properly
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - run: |
          npm install
      - run: |
          npm run all
  pr_description_lint:
    runs-on: ubuntu-latest
    name: A job to check the PR description
    steps:
    - name: PR Lint
      id: prlint
      uses: craigbroadman/github-actions-pr-description-linter@main
      with:
        message: 'Craig has checked this'
        repo-token: ${{ secrets.GITHUB_TOKEN }}
    # Use the output from the `prlint` step
    - name: Get the output response message
      run: echo "Response- ${{ steps.prlint.outputs.responseMessage }}"